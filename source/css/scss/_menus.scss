// Slide menu
//

// Slide menu header
// Contains the close button
.slide-menu-header {
  margin: .625rem;

  @include media-breakpoint-up(sm) {
    margin: 1rem;
  }

  @include media-breakpoint-up(lg) {
    margin: 4rem 4rem 2.5rem 4rem;
  }

}

// Slide menu close button
.btn-close {
  @include button-reset();
  display: inline-flex;
  align-items: center;
  cursor: pointer;
  color: $neutral-tertiary;
  margin: 0;
  padding: .5rem;
  .vdm {
    color: inherit;
    @include font-size(1.5rem);
  }
  .button-label {
    @include font-size($font-size-sm);
    margin-left: 1rem;
  }

  &:focus {
    box-shadow: none;
  }

  @include media-breakpoint-up(sm) {
    .vdm {
      @include font-size(2rem);
    }
  }

  @include media-breakpoint-up(lg) {
    .button-label {
      @include font-size($slide-menu-link-font-size);
    }
    .vdm {
      @include font-size(2.5rem);
    }
  }
}

// Slide menu search
//
.slide-menu-search {

  .form-group {
    margin-bottom: 0;
    &.has-clear {
      .form-control {
        padding-right: 3.5rem;
      }
      .btn-clear {
        margin-right: 1rem;
      }
    }
  }

  .vdm {
    color: $neutral-underground-1;
  }
  .form-control {
    background-color: $neutral-primary;
    border: none;
    border-radius: 0;
    color: $neutral-underground-1;
    @include font-size($font-size-sm);
    line-height: $line-height-xs;
    padding: 1.1875rem;

    &::placeholder {
      color: $neutral-underground-1;
    }

    &:focus {
      background: $neutral-stroke;
      box-shadow: none;
      color: $neutral-primary;

      &::placeholder {
        color: $neutral-primary;
      }

    }
  }
  .input-group-icon {
    &.input-group-icon-left {
      > .vdm {
        color: $white;
        @include font-size(2.5rem);
        padding-left: .625rem;
      }
      input {
        padding-left: 3.75rem;
      }
    }
  }

  .btn-close-search {
    z-index: 10;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    color: $neutral-primary;
    display: flex;
    @include font-size(2.5rem);
    padding: 0;
    margin-left: .625rem;
  }

  // Mobile
  @include media-breakpoint-up(sm) {
    .form-control {
      @include font-size($slide-menu-link-font-size);
      padding: 1.75rem;
    }
    .input-group-icon {
      &.input-group-icon-left {
        > .vdm {
          @include font-size(3rem);
          padding-left: 1rem;
        }
        input {
          padding-left: 5rem;
        }
      }
    }
    .btn-close-search {
      @include font-size(3rem);
      margin-left: 1rem;
    }
  }
}

// Trigger search mode on focus
.js-search-focus {
  .vdm {
    color: $black;
  }
  .input-group-icon {
    &.input-group-icon-left {
      > .vdm {
        display: none;
      }
    }
  }
  .form-control {
    background: $neutral-stroke;
    box-shadow: none;
    color: $neutral-primary;

    &::placeholder {
      color: $neutral-primary;
    }
  }

}

// Main slide-menu container
.slide-menu {
	position: fixed;
	width: 100%;
	max-width: 100%;
	height: 100vh;
	top: 0;
	right: 0;
	display: none;
  overflow-x: hidden;
  overflow-y: auto;
	box-sizing: border-box;
	background: $slide-menu-bg;
	transition: transform $slide-menu-transition-dur $slide-menu-transition-easing;
	transform: translateX(100%);
	will-change: transform;
	z-index: $zindex-fixed;

	.slider {
		width: 100%;
		transition: transform $slide-menu-transition-dur $slide-menu-transition-easing;
		transform: translateX(0);
		will-change: transform;
	}

	ul {
		@extend .list-unstyled;
		position: relative;
		width: 100%;
		max-width: 100%;
    margin: 0;
    margin-top: 1.5rem;
    margin-bottom: 3rem;
    
    li {
      display: flex;
      padding: 0;
    }

		ul {
			position: absolute;
			top: 0;
			left: 100%;
      display: none;
      padding: 0;
      margin: 0;
		}

		a {
      color: $slide-menu-link-color;
      @include font-size($slide-menu-link-font-size);
      display: flex;
      flex: 1;
      align-items: center;
      padding: 1.5rem 3.75rem;
      cursor: pointer;
      &:hover,
      &:active,
      &.active {
        color: $action-lighter;
        text-decoration: none;
        
        .vdm {
          color: $action-lighter;
        }
      }
      .vdm {
        color: $neutral-tertiary;
        @include font-size(3rem);
        margin-left: 1.5rem;
        margin-top: -.75rem;
        margin-bottom: -.75rem;
      }

      &.back-link {
        color: $slide-menu-link-hover-color;
        @include font-size($font-size-sm);

        .vdm {
          color: $slide-menu-icon-color;
          @include font-size(1rem);
          line-height: $line-height-xs;
          margin-left: 0;
        }
      }
    }
    
    @include media-breakpoint-up(sm) {
      a {
        padding-left: 5rem;
        padding-right: 5rem;
        .vdm {
          margin-left: auto;
        }
      }
    }
	}
  
  @include media-breakpoint-up(sm) {
    width: $slide-menu-width;
  }
}

//
// Slide menu employés
//
// Main slide-menu employés container
.slide-menu-employes {
  position: fixed;
  width: 100%;
  max-width: 100%;
  height: 100vh;
  top: 0;
  right: 0;
  display: none;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  background: $slide-menu-employes-bg;
  transition: transform $slide-menu-employes-transition-dur $slide-menu-employes-transition-easing;
  transform: translateX(100%);
  will-change: transform;
  z-index: $zindex-fixed;

  .slider {
    width: 100%;
    transition: transform $slide-menu-employes-transition-dur $slide-menu-employes-transition-easing;
    transform: translateX(0);
    will-change: transform;
  }
  
  // Slide menu employés header
  // Contains the close button
  .slide-menu-header {
    background-color: $neutral-underground-1;
    height: 3.5rem;
    margin: 0;

    @include media-breakpoint-up(lg) {
      height: 4.5rem;
    }

  }
  .slide-menu-footer {
    position: absolute;
    bottom: 0;
    padding: 1.5rem 1rem 1.5rem 1.25rem;

    svg {
      width: 100%;
      height: 100%;
      max-width: 110px;
    }
    @include media-breakpoint-up(lg) {
      padding: 1.5rem 1.5rem 1.5rem 1.75rem;
    }

  }

  // Slide menu employés close button
  .btn-close {
    @include button-reset();
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    margin: 0;
    padding: 1rem;

    .button-label {
      @include font-size($font-size-sm);
      margin-left: 1rem;
    }
    .icon {
      &:before {
        background-color: $neutral-primary;
      }
    }

    &:focus {
      box-shadow: none;
    }

    @include media-breakpoint-up(lg) {
      padding: 1.5rem;
    }
  }
  
  .side-menu {
    margin: 2rem 0 3rem 0;
    
    .list-group-item {
      &.list-group-item-action {
        & > a {
          padding: 1rem 1rem 1rem 1.25rem;
          color: $slide-menu-employes-link-color;
          
          &:hover {
            color: $slide-menu-link-hover-color;
            .icon {
              &:before {
                background-color: $slide-menu-employes-icon-hover-color;
              }
            }
          }

          .icon {
            &:before {
              background-color: $slide-menu-employes-icon-color;
              height: $slide-menu-employes-icon-size;
              width: $slide-menu-employes-icon-size;
            }
          }

          @include media-breakpoint-up(lg) {
            padding: 1rem 1rem 1rem 1.75rem;
          }
        }
      } 
    }
  }
  
  @include media-breakpoint-up(sm) {
    width: $slide-menu-employes-width;
  }
}